<html>

<head>
    <title> WebGL Tests </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script type="text/javascript" src="__js/threejs/three.min.js" > </script>
    <script type="text/javascript" src="__js/threejs/scripts/loaders/MTLLoader.js" > </script>
    <script type="text/javascript" src="__js/threejs/scripts/loaders/TGALoader.js" > </script>
    <script type="text/javascript" src="__js/threejs/scripts/loaders/OBJLoader.js" > </script>
    <script type="text/javascript" src="__js/threejs/scripts/loaders/DDSLoader.js" > </script>
    <script type="text/javascript" src="__js/threejs/scripts/loaders/ColladaLoader.js" > </script>
    <script type="text/javascript" src="__js/threejs/scripts/controls/OrbitControls.js" > </script>
    <script type="text/javascript">

        var  EXAMPLE_NAME = "threejs-basic-interaction";

        let loading = 0, html = "", js = "", css = "";


        if (html === "") {
            fetch(`${EXAMPLE_NAME}/example.html`).then((response) => {
                //console.log(response);
                return response.text();
            }).then((htmlText) => {
                //console.log(htmlText);
                html = htmlText;
                loading++;
                render();
            });
        }

        if (css === "") {
            fetch(`${EXAMPLE_NAME}/example.css`).then((response) => {
                //console.log(response);
                return response.text();
            }).then((cssText) => {
                //console.log(cssText);
                css = cssText;
                loading++;
                render();
            });
        }


        function render() {
            if (loading == 2) {
                if (html) {
                    document.body.innerHTML = html;
                }
                if (css) {
                    let style = document.createElement("style");
                    style.type = 'text/css';
                    style.appendChild(document.createTextNode(css));
                    document.head.appendChild(style);
                }
                if (js === "") {
                    let script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = `${EXAMPLE_NAME}/example.js`
                    document.body.appendChild(script);
                }
            }
        }


    </script>
</head>

<body>
</body>

</html>